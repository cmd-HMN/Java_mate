Task to be completed be

3. checkmate
4. castling
7. prevention moves when king is in check
9. Fix black enPassant

more.......